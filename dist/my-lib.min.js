!function(t){const e="callback_bind_stack";function n(t){return e in t}function o(t){n(t)&&i(t)}function i(t){Object.keys(t.callback_bind_stack).forEach((e=>{const n=e.split(":"),o=t.callback_bind_stack[e];if(n[0].startsWith("window")){const e=n[1];window.addEventListener(e,o.bind(t))}else{const e=t.shadowRoot.querySelector(n[0]);e&&e.addEventListener(n[1],o.bind(t))}}))}const a="storage_keys";function r(t,e){window.addEventListener(`storage-change:${t}`,(t=>{e(t.detail.data)}))}function s(t){if(t[a])for(const[e,n]of t[a]){r(e,n.bind(t));const o=localStorage.getItem(e);c(n.bind(t),o)}}function c(t,e){e&&(p(e)?t(JSON.parse(e)):t(e))}var l=Object.defineProperty,u=(t,e,n)=>(((t,e,n)=>{e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);function d(t){const e=this.attachShadow({mode:"open"}),n=document.createElement("template");return n.innerHTML=t.style?`<style>${t.style}</style>${t.template}`:t.template,e.appendChild(n.content.cloneNode(!0)),this}function p(t){try{return JSON.stringify(JSON.parse(t)),!0}catch(t){return!1}}const f="attribute_list";t.Attribute=function(t){return function(e,n){e[f]||(e[f]=new Map);const o=e[n];e[f].set(t,o)}},t.EventBind=function(t){return function(o,i,a){n(o)||(o[e]={});const r=o[i];o.callback_bind_stack[`${t}`]=r}},t.FromStorage=function(t){return function(e,n){e[a]||(e[a]=new Map);const o=e[n];e[a].set(t,o)}},t.PropagateToChild=function(t){return function(e,n){e.property_to_propagate||(e.property_to_propagate=new Map),e.property_to_propagate.set(`${n}`,t)}},t.WebComponent=function(t){return function(e){(t=>{if(t.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!")})(t.selector);let n=class extends e{constructor(...e){super(...e),u(this,"casted"),this.casted=d.call(this,t),o(this),s(this)}attributeChangedCallback(t,e,n){if(this.attribute_list){const e=this.attribute_list.get(t);if(e){if("string"==typeof n&&p(n))return e.apply(this,[JSON.parse(n)]);e.apply(this,[n])}}}};return window.customElements.define(t.selector,n),n}},t.attemptBindEvents=o,t.bindEvents=i,t.changeStorageValue=function(t,e){const n=new CustomEvent(`storage-change:${t}`,{detail:{data:e}});localStorage.setItem(t,JSON.stringify(e)),window.dispatchEvent(n)},t.findNodeOnUpTree=function t(e,n){let o=n.querySelector(e);return o||null===n.parentNode||(o=t(e,n.parentNode)),o},t.isJSON=p,t.subscribeToKeyChange=r,t.syncWithStorage=s}({});
