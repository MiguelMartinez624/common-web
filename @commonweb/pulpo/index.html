<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Todo App</title>
</head>
<script src="https://cdn.tailwindcss.com"></script>

<style>


    html, body {
        height: 100%;
        width: 100%;
    }

    .header {
        height: 60px;
        display: flex;
        align-items: center;
        padding: 0 1rem;
        color: var(--fg);
        background: var(--bg);
    }


    .content {
        padding: 1rem 3rem;
        background: #dbdbdb75;
        height: calc(91%);
        overflow: auto;
    }

    .layout {
        overflow: hidden;
        height: 100%;
        display: flex;
        overflow: hidden;
        width: 100%;
    }

    .sidebar {
        display: flex;
        width: 100%;
        background: var(--bg-primary);
        flex: 0.2;
        transition-property: flex;
        transition-duration: 0.5s;
        justify-center: center;
        overflow: hidden;
        border-right: 2px solid #f2f2f2;
    }

    .sidebar.collapsed {
        transition-property: flex;
        transition-duration: 0.5s;
        flex: 0;
    }

    .card {
        padding: 1rem;
        background: white;
        box-shadow: 0px 0px 8px rgba(0, 0, 0, .2);
    }

    .collapsed {
        flex: 0;

    }

    .hidden {
        display: none !important;
    }

    .full-page {
        height: 100%;
        width: 100%;
    }

    .modal {
        background-color: #ffffff87;
        backdrop-filter: blur(2px);
        position: fixed;
        z-index: 2;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        align-items: center;
        display: flex;
        justify-content: center;
    }
</style>
<body>
<static-template>
    <local-storage-value key="pulpo-user"></local-storage-value>


    <conditional-render-cases main-routes case="login">
        <div case="login">
            <template>
                <login-page></login-page>
                <bind-element value="dashboard" from="login-page:(login-success)" to="[main-routes]"></bind-element>
            </template>
        </div>
        <div case="dashboard">
            <template>
                <pulpo-dashboard></pulpo-dashboard>
            </template>
        </div>
    </conditional-render-cases>

</static-template>


<script src="../core/dist/core-pkg.js" type="text/javascript"></script>
<script src="../components/dist/components-pkg.js" type="text/javascript"></script>
<script defer src="../forms/dist/forms-pkg.js" type="text/javascript"></script>
<script defer src="./orders-details.component.js" type="text/javascript"></script>
<script defer src="./logo.components.js" type="text/javascript"></script>
<script defer src="./login.page.js" type="text/javascript"></script>
<script defer src="./dashboard.page.js" type="text/javascript"></script>


<script>
    const user = document.querySelector("local-storage-value");
    const mainRouting = document.querySelector("conditional-render-cases[main-routes]")
    if (user.value) {
        mainRouting.changeCase("dashboard");
    }else{
        mainRouting.changeCase("login");
    }

</script>


</body>
</html>
